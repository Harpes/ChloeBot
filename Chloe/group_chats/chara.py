from os import path

import zhconv
from PIL import Image

res_path = 'res'

CHARA = {
    1000: ["æœªçŸ¥è§’è‰²", "æœªçŸ¥ã‚­ãƒ£ãƒ©", "Unknown"],
    1001: ["æ—¥å’Œ", "ãƒ’ãƒ¨ãƒª", "Hoyori", "çŒ«æ‹³"],
    1002: ["ä¼˜è¡£", "ãƒ¦ã‚¤", "Yui", "ç§ç”°", "æ™®ç”°", "ç”±è¡£", "ç»“è¡£", "ue"],
    1003: ["æ€œ", "ãƒ¬ã‚¤", "Rei", "å‰‘åœ£", "æ™®æ€œ", "ä¼¶"],
    1004: ["ç¦Š", "ãƒŸã‚½ã‚®", "Misogi", "ç‚¸å¼¹", "ç‚¸å¼¹äºº", "æœªå¥å¸Œ"],
    1005: ["èŒ‰èŽ‰", "ãƒžãƒ„ãƒª", "Matsuri", "è·³è·³è™Ž", "è€è™Ž", "è™Ž", "ðŸ…"],
    1006: ["èŒœé‡Œ", "ã‚¢ã‚«ãƒª", "Akari", "å¦¹æ³•", "å¦¹å¦¹æ³•"],
    1007: ["å®«å­", "ãƒŸãƒ¤ã‚³", "Miyako", "å¸ƒä¸", "å¸ƒ", "ðŸ®"],
    1008: ["é›ª", "ãƒ¦ã‚­", "Yuki", "å°é›ª", "é•œå­", "ä¼ªå¨˜", "ç”·å­©å­", "ç”·å­©çº¸"],
    1009: ["æå¥ˆ", "ã‚¢ãƒ³ãƒŠ", "Anna", "ä¸­äºŒ", "ç…¤æ°”ç½"],
    1010: ["çœŸæ­¥", "ãƒžãƒ›", "Maho", "ç‹ç‹¸", "çœŸæ‰Ž", "å’•å™œçµæ³¢", "çœŸå¸ƒ"],
    1011: ["ç’ƒä¹ƒ", "ãƒªãƒŽ", "Rino", "å¦¹å¼“"],
    1012: ["åˆéŸ³", "ãƒãƒ„ãƒ", "Hatsune", "hego", "æ˜Ÿæ³•", "æ˜Ÿæ˜Ÿæ³•", "â­æ³•"],
    1013: ["ä¸ƒä¸ƒé¦™", "ãƒŠãƒŠã‚«", "Nanaka", "å¨œå¨œå¡", "77k", "77é¦™"],
    1014: ["éœž", "ã‚«ã‚¹ãƒŸ", "Kasumi", "ä¾¦æŽ¢", "æœå®¾çŠ¬", "é©´", "é©´å­"],
    1015: ["ç¾Žé‡Œ", "ãƒŸã‚µãƒˆ", "Misato", "åœ£æ¯"],
    1016: ["é“ƒå¥ˆ", "ã‚¹ã‚ºãƒŠ", "Suzuna", "æš´å‡»å¼“", "æš´å¼“", "çˆ†å‡»å¼“", "çˆ†å¼“", "æ”¿å§”"],
    1017: ["é¦™ç»‡", "ã‚«ã‚ªãƒª", "Kaori", "ç‹—å­", "ç‹—", "ç‹—æ‹³", "ðŸ¶", "ðŸ•"],
    1018: ["ä¼Šç»ª", "ã‚¤ã‚ª", "Io", "è€å¸ˆ", "é­…é­”"],

    1020: ["ç¾Žç¾Ž", "ãƒŸãƒŸ", "Mimi", "å…”å­", "å…”å…”", "èåœéœ¸æ–­å‰‘", "äººå‚éœ¸æ–­å‰‘", "å¤©å…”éœ¸æ–­å‰‘", "ðŸ‡", "ðŸ°"],
    1021: ["èƒ¡æ¡ƒ", "ã‚¯ãƒ«ãƒŸ", "Kurumi", "é“ƒé“›", "ðŸ””"],
    1022: ["ä¾é‡Œ", "ãƒ¨ãƒª", "Yori", "å§æ³•", "å§å§æ³•"],
    1023: ["ç»«éŸ³", "ã‚¢ãƒ¤ãƒ", "Ayane", "ç†Šé”¤"],

    1025: ["é“ƒèŽ“", "ã‚¹ã‚ºãƒ¡", "Suzume", "å¥³ä»†", "å¦¹æŠ–"],
    1026: ["é“ƒ", "ãƒªãƒ³", "Rin", "æ¾é¼ ", "ðŸ¿"],
    1027: ["æƒ ç†å­", "ã‚¨ãƒªã‚³", "Eriko", "ç—…å¨‡"],
    1028: ["å’²æ‹", "ã‚µãƒ¬ãƒ³", "Saren", "å……ç”µå®", "é’æ¢…ç«¹é©¬", "å¹¼é©¯æŸ“", "é™¢é•¿", "å›­é•¿"],
    1029: ["æœ›", "ãƒŽã‚¾ãƒŸ", "Nozomi", "å¶åƒ", "å°æœ›"],
    1030: ["å¦®è¯º", "ãƒ‹ãƒŽãƒ³", "Ninon", "æ‰‡å­"],
    1031: ["å¿", "ã‚·ãƒŽãƒ–", "Shinobu", "æ™®å¿", "é¬¼çˆ¶", "ðŸ’€"],
    1032: ["ç§‹ä¹ƒ", "ã‚¢ã‚­ãƒŽ", "Akino", "å“ˆå“ˆå‰‘"],
    1033: ["çœŸé˜³", "ãƒžãƒ’ãƒ«", "Mahiru", "å¥¶ç‰›", "ðŸ„"],
    1034: ["ä¼˜èŠ±æ¢¨", "ãƒ¦ã‚«ãƒª", "Yukari", "é»„éª‘", "é…’é¬¼", "å¥¶éª‘", "åœ£éª‘", "ðŸº"],

    1036: ["é•œåŽ", "ã‚­ãƒ§ã‚¦ã‚«", "Kyouka", "å°ä»“å”¯", "xcw", "å°è‹å”¯", "8å²", "å…«å²", "å–·æ°´è", "å…«å²å–·æ°´è", "8å²å–·æ°´è"],
    1037: ["æ™º", "ãƒˆãƒ¢", "Tomo", "åœæ¯›"],
    1038: ["æ ž", "ã‚·ã‚ªãƒª", "Shiori", "tpå¼“", "TPå¼“", "å°æ ž", "ç™½è™Žå¼“", "ç™½è™Žå¦¹"],

    1040: ["ç¢§", "ã‚¢ã‚ªã‚¤", "Aoi", "é¦™èœ", "é¦™èœå¼“", "ç»¿æ¯›å¼“", "æ¯’å¼“"],

    1042: ["åƒæ­Œ", "ãƒã‚«", "Chika", "ç»¿æ¯›å¥¶"],
    1043: ["çœŸç´", "ãƒžã‚³ãƒˆ", "Makoto", "ç‹¼", "ðŸº"],
    1044: ["ä¼ŠèŽ‰äºš", "ã‚¤ãƒªãƒ¤", "Iriya", "ä¼Šåˆ©äºš", "ä¼ŠèŽ‰é›…", "ä¼Šåˆ©é›…", "yly", "å¸è¡€é¬¼", "é‚£ä¸ªå¥³äºº"],
    1045: ["ç©ºèŠ±", "ã‚¯ã‚¦ã‚«", "Kuuka", "æŠ–m", "æŠ–"],
    1046: ["ç å¸Œ", "ã‚¿ãƒžã‚­", "Tamaki", "çŒ«å‰‘"],
    1047: ["çº¯", "ã‚¸ãƒ¥ãƒ³", "Jun", "é»‘éª‘", "saber", "SABER"],
    1048: ["ç¾Žå†¬", "ãƒŸãƒ•ãƒ¦", "Mifuyu", "å­é¾™", "èµµå­é¾™"],
    1049: ["é™æµ", "ã‚·ã‚ºãƒ«", "Shizuru", "å§å§"],
    1050: ["ç¾Žå’²", "ãƒŸã‚µã‚­", "Misaki", "å¤§çœ¼", "ðŸ‘€", "ðŸ‘ï¸", "ðŸ‘"],
    1051: ["æ·±æœˆ", "ãƒŸãƒ„ã‚­", "Mitsuki", "çœ¼ç½©", "æŠ–s"],
    1052: ["èŽ‰çŽ›", "ãƒªãƒž", "Rima", "è‰æ³¥é©¬", "ç¾Šé©¼"],
    1053: ["èŽ«å¦®å¡", "ãƒ¢ãƒ‹ã‚«", "Monika", "æ¯›äºŒåŠ›"],
    1054: ["çººå¸Œ", "ãƒ„ãƒ ã‚®", "Tsumugi", "è£ç¼", "èœ˜è››ä¾ ", "ðŸ•·ï¸", "ðŸ•¸ï¸"],
    1055: ["æ­¥æœª", "ã‚¢ãƒ¦ãƒŸ", "Ayumi", "è·¯äºº", "è·¯äººå¦¹"],
    1056: ["æµå¤", "ãƒ«ã‚«", "Ruka", "å¤§å§", "å¤§å§å¤´"],
    1057: ["å‰å¡”", "ã‚¸ãƒ¼ã‚¿", "Jiita", "å›¢é•¿", "å‰ä»–", "å§¬å¡”", "ðŸŽ¸"],
    1058: ["è´ªåƒä½©å¯", "ãƒšã‚³ãƒªãƒ¼ãƒŒ", "Pecoriinu", "åƒè´§", "ä½©å¯", "å…¬ä¸»", "é¥­å›¢", "ðŸ™"],
    1059: ["å¯å¯è", "ã‚³ãƒƒã‚³ãƒ­", "Kokkoro", "å¯å¯ç½—", "å¦ˆ", "æ™®ç™½"],
    1060: ["å‡¯ç•™", "ã‚­ãƒ£ãƒ«", "Kyaru", "é»‘çŒ«", "è‡­é¼¬", "å‡¯éœ²", "æ™®é»‘"],
    1061: ["çŸ›ä¾æœª", "ãƒ ã‚¤ãƒŸ", "Muimi", "å¤å¨œ", "511", "æ— æ„ä¹‰"],

    1063: ["äºšé‡ŒèŽŽ", "ã‚¢ãƒªã‚µ", "Arisa", "é¸­æ¢¨çžŽ", "çžŽå­", "äºšé‡Œæ²™", "é¸­æ¢¨å‚»", "äºšä¸½èŽŽ", "äºšèŽ‰èŽŽ", "çžŽå­å¼“", "ðŸðŸ¦"],

    1065: ["å˜‰å¤œ", "ã‚«ãƒ¤", "Kaya"],
    1066: ["ç¥ˆæ¢¨", "ã‚¤ãƒŽãƒª", "Inori"],
    1067: ["ç©—å¸Œ", "ãƒ›ãƒžãƒ¬", "Homare"],
    1068: ["æ‹‰æ¯”æž—æ–¯è¾¾", "ãƒ©ãƒ“ãƒªã‚¹ã‚¿", "Rabirisuta", "è¿·å®«å¥³çŽ‹", "æ™¶"],
    1069: ["çœŸé‚£", "ãƒžãƒŠ", "Mana", "éœ¸çž³çš‡å¸", "éœ¸çž³", "åƒé‡ŒçœŸé‚£"],
    1070: ["ä¼¼ä¼¼èŠ±", "ãƒãƒã‚«", "Neneka", "å˜è²Œå¤§å¦ƒ", "nnk", "448", "ææå¡", "å˜è²Œ", "å¤§å¦ƒ"],
    1071: ["å…‹èŽ‰ä¸æå¨œ", "ã‚¯ãƒªã‚¹ãƒ†ã‚£ãƒ¼ãƒŠ", "Kurisutiina", "Christina", "Cristina", "èª“çº¦å¥³å›", "å…‹æ€»", "å¥³å¸", "å…‹"],

    1073: ["æ‹‰åŸºæ‹‰åŸº", "ãƒ©ã‚¸ãƒ‹ã‚«ãƒ¼ãƒ³ãƒˆ", "Kajinigaanto", "Rajiraji", "è·³è·ƒçŽ‹", "åžƒåœ¾åžƒåœ¾"],

    1075: ["è´ªåƒä½©å¯(å¤æ—¥)", "ãƒšã‚³ãƒªãƒ¼ãƒŒ(ã‚µãƒžãƒ¼)", "Pekoriinu(Summer)", "æ°´åƒ", "æ°´é¥­", "æ°´åƒè´§", "æ°´ä½©å¯", "æ°´å…¬ä¸»", "æ°´é¥­å›¢", "æ°´ðŸ™", "æ³³åƒ", "æ³³é¥­", "æ³³åƒè´§", "æ³³ä½©å¯", "æ³³å…¬ä¸»", "æ³³é¥­å›¢", "æ³³ðŸ™", "æ³³è£…åƒè´§", "æ³³è£…å…¬ä¸»", "æ³³è£…é¥­å›¢", "æ³³è£…ðŸ™", "ä½©å¯(å¤æ—¥)"],
    1076: ["å¯å¯è(å¤æ—¥)", "ã‚³ãƒƒã‚³ãƒ­(ã‚µãƒžãƒ¼)", "Kokkoro(Summer)", "æ°´ç™½", "æ°´å¯", "æ°´å¯å¯", "æ°´å¯å¯è", "æ°´å¯å¯ç½—", "æ³³è£…å¯å¯è", "æ³³è£…å¯å¯ç½—"],
    1077: ["é“ƒèŽ“(å¤æ—¥)", "ã‚¹ã‚ºãƒ¡(ã‚µãƒžãƒ¼)", "Suzume(Summer)", "æ°´å¥³ä»†", "æ°´å¦¹æŠ–"],
    1078: ["å‡¯ç•™(å¤æ—¥)", "ã‚­ãƒ£ãƒ«(ã‚µãƒžãƒ¼)", "Kyaru(Summer)", "æ°´é»‘", "æ°´é»‘çŒ«", "æ°´è‡­é¼¬", "æ³³è£…é»‘çŒ«", "æ³³è£…è‡­é¼¬", "æ½¶"],
    1079: ["ç å¸Œ(å¤æ—¥)", "ã‚¿ãƒžã‚­(ã‚µãƒžãƒ¼)", "Tamaki(Summer)", "æ°´çŒ«å‰‘", "æ°´çŒ«"],
    1080: ["ç¾Žå†¬(å¤æ—¥)", "ãƒŸãƒ•ãƒ¦(ã‚µãƒžãƒ¼)", "Mifuyu(Summer)", "æ°´å­é¾™", "æ°´ç¾Žå†¬"],
    1081: ["å¿(ä¸‡åœ£èŠ‚)", "ã‚·ãƒŽãƒ–(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Shinobu(Halloween)", "ä¸‡åœ£å¿", "ç“œå¿", "ðŸŽƒå¿", "ðŸŽƒðŸ’€"],
    1082: ["å®«å­(ä¸‡åœ£èŠ‚)", "ãƒŸãƒ¤ã‚³(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Miyako(Halloween)", "ä¸‡åœ£å¸ƒä¸", "ç‹¼ä¸", "ç‹¼å¸ƒä¸", "ä¸‡åœ£ðŸ®", "ðŸºðŸ®", "ä¸‡åœ£å®«å­"],
    1083: ["ç¾Žå’²(ä¸‡åœ£èŠ‚)", "ãƒŸã‚µã‚­(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Misaki(Halloween)", "ä¸‡åœ£ç¾Žå’²", "ä¸‡åœ£å¤§çœ¼"],
    1084: ["åƒæ­Œ(åœ£è¯žèŠ‚)", "ãƒã‚«(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Chika(Xmas)", "åœ£è¯žåƒæ­Œ", "åœ£åƒ", "è›‹é¸½"],
    1085: ["èƒ¡æ¡ƒ(åœ£è¯žèŠ‚)", "ã‚¯ãƒ«ãƒŸ(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Kurumi(Xmas)", "åœ£è¯žèƒ¡æ¡ƒ", "åœ£è¯žé“ƒé“›"],
    1086: ["ç»«éŸ³(åœ£è¯žèŠ‚)", "ã‚¢ãƒ¤ãƒ(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Ayane(Xmas)", "åœ£è¯žç†Šé”¤", "è›‹é”¤"],
    1087: ["æ—¥å’Œ(æ–°å¹´)", "ãƒ’ãƒ¨ãƒª(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Hiyori(NewYear)", "æ–°å¹´æ—¥å’Œ", "æ˜¥çŒ«"],
    1088: ["ä¼˜è¡£(æ–°å¹´)", "ãƒ¦ã‚¤(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Yui(NewYear)", "æ–°å¹´ä¼˜è¡£", "æ˜¥ç”°", "æ–°å¹´ç”±è¡£"],
    1089: ["æ€œ(æ–°å¹´)", "ãƒ¬ã‚¤(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Rei(NewYear)", "æ˜¥å‰‘", "æ˜¥æ€œ", "æ˜¥ä¼¶"],
    1090: ["æƒ ç†å­(æƒ…äººèŠ‚)", "ã‚¨ãƒªã‚³(ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³)", "Eriko(Valentine)", "æƒ…äººèŠ‚ç—…å¨‡", "æ‹ç—…", "æƒ…ç—…", "æ‹ç—…å¨‡", "æƒ…ç—…å¨‡"],
    1091: ["é™æµ(æƒ…äººèŠ‚)", "ã‚·ã‚ºãƒ«(ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³)", "Shizuru(Valentine)" "æƒ…äººèŠ‚é™æµ", "æƒ…å§", "æƒ…äººèŠ‚å§å§"],
    1092: ["å®‰", "ã‚¢ãƒ³", "An", "èƒ–å®‰", "55kg"],
    1093: ["éœ²", "ãƒ«ã‚¥", "Ruu", "é€ƒè¯¾å¥³çŽ‹"],
    1094: ["å¤è•¾å¨…", "ã‚°ãƒ¬ã‚¢", "Gurea", "é¾™å§¬", "å¤é›·å¨…", "å¤è•¾äºš", "å¤é›·äºš"],
    1095: ["ç©ºèŠ±(å¤§æ±Ÿæˆ·)", "ã‚¯ã‚¦ã‚«(ã‚ªãƒ¼ã‚¨ãƒ‰)", "Kuuka(Ooedo)", "æ±Ÿæˆ·ç©ºèŠ±", "æ±Ÿæˆ·æŠ–m", "æ±Ÿm", "æ±ŸèŠ±"],
    1096: ["å¦®è¯º(å¤§æ±Ÿæˆ·)", "ãƒ‹ãƒŽãƒ³(ã‚ªãƒ¼ã‚¨ãƒ‰)", "Ninon(Ooedo)", "æ±Ÿæˆ·æ‰‡å­", "å¿æ‰‡"],
    1097: ["é›·å§†", "ãƒ¬ãƒ ", "Remu", "è•¾å§†"],
    1098: ["æ‹‰å§†", "ãƒ©ãƒ ", "Ramu"],
    1099: ["çˆ±èœœèŽ‰é›…", "ã‚¨ãƒŸãƒªã‚¢", "Emiria", "è‰¾ç±³èŽ‰äºš", "emt", "EMT"],
    1100: ["é“ƒå¥ˆ(å¤æ—¥)", "ã‚¹ã‚ºãƒŠ(ã‚µãƒžãƒ¼)", "Suzuna(Summer)", "ç€‘å‡»å¼“", "æ°´çˆ†", "æ°´çˆ†å¼“", "æ°´æš´", "ç€‘", "æ°´æš´å¼“", "ç€‘å¼“", "æ³³è£…æš´å¼“", "æ³³è£…çˆ†å¼“"],
    1101: ["ä¼Šç»ª(å¤æ—¥)", "ã‚¤ã‚ª(ã‚µãƒžãƒ¼)", "Io(Summer)", "æ°´é­…é­”", "æ°´è€å¸ˆ", "æ³³è£…é­…é­”", "æ³³è£…è€å¸ˆ"],
    1102: ["ç¾Žå’²(å¤æ—¥)", "ãƒŸã‚µã‚­(ã‚µãƒžãƒ¼)", "Misaki(Summer)", "æ°´å¤§çœ¼", "æ³³è£…å¤§çœ¼"],
    1103: ["å’²æ‹(å¤æ—¥)", "ã‚µãƒ¬ãƒ³(ã‚µãƒžãƒ¼)", "Saren(Summer)", "æ°´ç”µ", "æ³³è£…å……ç”µå®", "æ³³è£…å’²æ‹", "æ°´ç€å’²æ‹", "æ°´ç”µç«™", "æ°´ç”µå®", "æ°´å……"],
    1104: ["çœŸç´(å¤æ—¥)", "ãƒžã‚³ãƒˆ(ã‚µãƒžãƒ¼)", "Makoto(Summer)", "æ°´ç‹¼", "æµª", "æ°´ðŸº"],
    1105: ["é¦™ç»‡(å¤æ—¥)", "ã‚«ã‚ªãƒª(ã‚µãƒžãƒ¼)", "Kaori(Summer)", "æ°´ç‹—", "æ³ƒ", "æ°´ðŸ¶", "æ°´ðŸ•"],
    1106: ["çœŸæ­¥(å¤æ—¥)", "ãƒžãƒ›(ã‚µãƒžãƒ¼)", "Maho(Summer)", "æ°´ç‹ç‹¸", "æ°´çœŸæ­¥", "æ°´maho", "æ°´å£¶"],
    1107: ["ç¢§(æ’ç­ç”Ÿ)", "ã‚¢ã‚ªã‚¤(ç·¨å…¥ç”Ÿ)", "Aoi(Hennyuusei)", "ç”Ÿèœ", "æ–°é¦™èœ"],
    1108: ["å…‹èä¾", "ã‚¯ãƒ­ã‚¨", "Kuroe", "åŽå“¥"],
    1109: ["çªçˆ±å„¿", "ãƒã‚¨ãƒ«", "Chieru", "åˆ‡éœ²", "èŒ„éœ²", "èŒ„å™œ", "åˆ‡å™œ"],
    1110: ["ä¼˜å¦®", "ãƒ¦ãƒ‹", "Yuni"],
    1111: ["é•œåŽ(ä¸‡åœ£èŠ‚)", "ã‚­ãƒ§ã‚¦ã‚«(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Kyouka(Halloween)", "ä¸‡åœ£é•œåŽ", "ä¸‡åœ£å°ä»“å”¯", "ä¸‡åœ£xcw", "çŒ«ä»“å”¯", "é»‘çŒ«ä»“å”¯", "mcw", "çŒ«å”¯", "çŒ«ä»“", "å–µå”¯"],
    1112: ["ç¦Š(ä¸‡åœ£èŠ‚)", "ãƒŸã‚½ã‚®(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Misogi(Halloween)", "ä¸‡åœ£ç¦Š", "ä¸‡åœ£ç‚¸å¼¹äºº", "ç“œç‚¸å¼¹äºº", "ä¸‡åœ£ç‚¸å¼¹", "ä¸‡åœ£ç‚¸", "ç“œç‚¸"],
    1113: ["ç¾Žç¾Ž(ä¸‡åœ£èŠ‚)", "ãƒŸãƒŸ(ãƒãƒ­ã‚¦ã‚£ãƒ³)", "Mimi(Halloween)", "ä¸‡åœ£å…”", "ä¸‡åœ£å…”å­", "ä¸‡åœ£å…”å…”", "ç»·å¸¦å…”", "ç»·å¸¦å…”å­", "ä¸‡åœ£ç¾Žç¾Ž", "ç»·å¸¦ç¾Žç¾Ž", "ä¸‡åœ£ðŸ°", "ç»·å¸¦ðŸ°", "ðŸŽƒðŸ°", "ä¸‡åœ£ðŸ‡", "ç»·å¸¦ðŸ‡", "ðŸŽƒðŸ‡"],
    1114: ["éœ²å¨œ", "ãƒ«ãƒŠ", "Runa", "éœ²ä»“å”¯", "éœ²cw"],
    1115: ["å…‹èŽ‰ä¸æå¨œ(åœ£è¯žèŠ‚)", "ã‚¯ãƒªã‚¹ãƒ†ã‚£ãƒ¼ãƒŠ(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Kurisutiina(Xmas)", "Christina(Xmas)", "Cristina(Xmas)", "åœ£è¯žå…‹", "åœ£è¯žå…‹æ€»", "åœ£è¯žå¥³å¸", "è›‹å…‹"],
    1116: ["æœ›(åœ£è¯žèŠ‚)", "ãƒŽã‚¾ãƒŸ(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Nozomi(Xmas)", "åœ£è¯žæœ›", "åœ£è¯žå¶åƒ", "è›‹å¶åƒ", "è›‹æœ›"],
    1117: ["ä¼ŠèŽ‰äºš(åœ£è¯žèŠ‚)", "ã‚¤ãƒªãƒ¤(ã‚¯ãƒªã‚¹ãƒžã‚¹)", "Iriya(Xmas)", "åœ£è¯žä¼ŠèŽ‰äºš", "åœ£è¯žä¼Šåˆ©äºš", "åœ£è¯žä¼ŠèŽ‰é›…", "åœ£è¯žä¼Šåˆ©é›…", "åœ£è¯žyly", "åœ£è¯žå¸è¡€é¬¼"],

    1119: ["å¯å¯è(æ–°å¹´)", "ã‚³ãƒƒã‚³ãƒ­(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Kokkoro(NewYear)", "æ˜¥å¯å¯", "æ˜¥ç™½", "æ–°å¹´å¦ˆ", "æ˜¥å¦ˆ"],
    1120: ["å‡¯ç•™(æ–°å¹´)", "ã‚­ãƒ£ãƒ«(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Kyaru(NewYear)", "æ˜¥å‡¯ç•™", "æ˜¥é»‘çŒ«", "æ˜¥é»‘", "æ˜¥è‡­é¼¬", "æ–°å¹´å‡¯ç•™", "æ–°å¹´é»‘çŒ«", "æ–°å¹´è‡­é¼¬"],
    1121: ["é“ƒèŽ“(æ–°å¹´)", "ã‚¹ã‚ºãƒ¡(ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼)", "Suzume(NewYear)", "æ˜¥é“ƒèŽ“", "æ˜¥å¥³ä»†", "æ˜¥å¦¹æŠ–", "æ–°å¹´é“ƒèŽ“", "æ–°å¹´å¥³ä»†", "æ–°å¹´å¦¹æŠ–"],
    1122: ["éœž(é­”æ³•å°‘å¥³)", "ã‚«ã‚¹ãƒŸ(ãƒžã‚¸ã‚«ãƒ«)", "Kasumi(MagiGirl)", "é­”æ³•å°‘å¥³éœž", "é­”æ³•ä¾¦æŽ¢", "é­”æ³•æœå®¾çŠ¬", "é­”æ³•é©´", "é­”æ³•é©´å­", "é­”é©´", "é­”æ³•éœž", "é­”æ³•å°‘é©´"],
    1123: ["æ ž(é­”æ³•å°‘å¥³)", "ã‚·ã‚ªãƒª(ãƒžã‚¸ã‚«ãƒ«)", "Shiori(MagiGirl)", "é­”æ³•å°‘å¥³æ ž", "é­”æ³•tpå¼“", "é­”æ³•TPå¼“", "é­”æ³•å°æ ž", "é­”æ³•ç™½è™Žå¼“", "é­”æ³•ç™½è™Žå¦¹", "é­”æ³•ç™½è™Ž"],
    1124: ["å¯æœˆ(å¶åƒå¤§å¸ˆ)", "ã‚¦ãƒ…ã‚­(ãƒ‡ãƒ¬ãƒžã‚¹)", "Udsuki(DEREM@S)", "å¯æœˆ", "åµç”¨", "Udsuki(DEREMAS)"],
    1125: ["å‡›(å¶åƒå¤§å¸ˆ)", "ãƒªãƒ³(ãƒ‡ãƒ¬ãƒžã‚¹)", "Rin(DEREM@S)", "å‡›", "Rin(DEREMAS)"],
    1126: ["æœªå¤®(å¶åƒå¤§å¸ˆ)", "ãƒŸã‚ª(ãƒ‡ãƒ¬ãƒžã‚¹)", "Mio(DEREM@S)", "æœªå¤®", "Mio(DEREM@S)"],

    1804: ["è´ªåƒä½©å¯(å…¬ä¸»)", "ãƒšã‚³ãƒªãƒ¼ãƒŒ(ãƒ—ãƒªãƒ³ã‚»ã‚¹)", "Pekoriinu(Princess)", "å…¬ä¸»åƒ", "å…¬ä¸»é¥­", "å…¬ä¸»åƒè´§", "å…¬ä¸»ä½©å¯", "å…¬ä¸»é¥­å›¢", "å…¬ä¸»ðŸ™", "å‘½è¿é«˜è¾¾", "é«˜è¾¾", "å‘½è¿å…¬ä¸»", "é«˜è¾¾å…¬ä¸»"],
}

gadget_star = Image.open(path.join(res_path, 'gadget', 'star.png'))
gadget_pink = Image.open(path.join(res_path, 'gadget', 'star_pink.png'))
gadget_equip = Image.open(path.join(res_path, 'gadget', 'equip.png'))
# gadget_star_dis = Image.open(
#     path.join(res_path, 'gadget', 'start_disabled.png'))
chara_unknown = Image.open(path.join(res_path, 'unit', 'icon_unit_100031.png'))


def normname(name: str) -> str:
    name = name.lower().replace('ï¼ˆ', '(').replace('ï¼‰', ')')
    name = zhconv.convert(name, 'zh-hans')
    return name


NAME2ID = {}
for k, l in CHARA.items():
    for n in l:
        if n not in NAME2ID:
            NAME2ID[normname(n)] = k
        else:
            print(f'å‡ºçŽ°é‡å{n}äºŽid{k}ä¸Žid{NAME2ID[n]}')


def get_chara_id(name: str) -> int:
    return NAME2ID.get(normname(name), 1000)


def get_chara_name(id_: int) -> str:
    return CHARA.get(id_, ['æœªçŸ¥è§’è‰²'])[0]


def get_chara_icon(name: str, star: int = 3) -> Image:
    chara_name = normname(name)
    if chara_name not in NAME2ID:
        print(f'{name} åå­—æœªæ‰¾åˆ°')
        return chara_unknown

    id_ = NAME2ID[chara_name]
    stage = 3
    if star == 6:
        stage = 6
    elif star > 2:
        stage = 3
    elif star > 0:
        stage = 1
    img_path = path.join(res_path, 'unit', f'icon_unit_{id_}{stage}1.png')
    if path.exists(img_path):
        return Image.open(img_path)
    else:
        print(f'{name} {id_} {star}æ˜Ÿ å›¾ç‰‡æ–‡ä»¶æœªæ‰¾åˆ°')
        return chara_unknown


def gen_chara_avatar(name: str, star: int = 3, equip: bool = False) -> Image:
    icon = get_chara_icon(name, star)
    size = icon.size[0]

    l = size // 6
    star_lap = round(l * 0.15)
    margin_x = (size - 6 * l) // 2
    margin_y = round(size * 0.05)

    if star == 6:
        star_icon = gadget_pink.resize((l, l))
        x = margin_x
        y = size - l - margin_y
        icon.paste(star_icon, (x, y, x + l, y + l), star_icon)
    else:
        star_icon = gadget_star.resize((l, l))
        for i in range(star):
            x = i * (l - star_lap) + margin_x
            y = size - l - margin_y
            icon.paste(star_icon, (x, y, x + l, y + l), star_icon)

    if equip:
        l = round(l * 1.5)
        equip_icon = gadget_equip.resize((l, l))
        icon.paste(equip_icon, (margin_x, margin_x,
                                margin_x + l, margin_x + l), equip_icon)

    return icon
